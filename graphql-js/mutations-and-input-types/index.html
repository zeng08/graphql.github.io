<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><title>变更和输入类型 | GraphQL.js 教程</title><meta name="viewport" content="width=640"/><meta property="og:title" content="GraphQL: 一种用于 API 的查询语言。"/><meta property="og:description" content="GraphQL 提供了 API 中数据的完整描述，提供让客户端能够准确地获取需要的数据而不包含任何冗余的能力，让 API 更加容易随着时间推移而演进，并提供强大的开发者工具。"/><meta property="og:type" content="website"/><meta property="og:url" content="http://graphql.cn/"/><meta property="og:image" content="/img/og_image.png"/><meta property="og:image:type" content="image/png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@graphql"/><meta name="twitter:title" content="GraphQL: 一种用于 API 的查询语言。"/><meta name="twitter:description" content="GraphQL 提供让客户端能够准确地获取需要的数据而不包含任何冗余的能力，并让 API 更加容易随着时间推移而演进。"/><meta name="twitter:image" content="/img/twitter_image.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="home" type="application/rss+xml" href="/blog/rss.xml" title="GraphQL 团队博客"/><link rel="stylesheet" href="/style.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300|Roboto:300"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,400i,600"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/></head><body><header><section><a class="nav-home" href="/"><img class="nav-logo" src="/img/logo.svg" width="30" height="30"/>GraphQL</a><nav><a href="/learn/">学习</a><a href="/code/">代码</a><a href="/community/">社区</a><a href="/blog/">博客</a><a href="http://spec.graphql.cn/" target="_blank" rel="noopener noreferrer">规范</a></nav><div class="algolia-search-wrapper"><input type="text" id="algolia-search-input" placeholder="搜索文档..."/></div></section></header><section><div class="documentationContent"><div class="inner-content"><h1>变更和输入类型</h1><div><p>假设你有一个 API 入口端点用于修改数据，像是向数据库中插入数据或修改已有数据，在 GraphQL 中，你应该将这个入口端点做为 <code>Mutation</code> 而不是 <code>Query</code>。这十分简单，只需要将这个入口端点做成 <code>Mutation</code> 类型顶层的一部份即可。</p><p>假设我们有一个“今日消息”服务器，每个人都可以在上面更新“今日消息”，或者阅读当前的“今日消息”。这个服务器的 GraphQL schema 很简单：</p><pre class="prism language-graphql"><span class="type-def"><span class="keyword">type</span> Mutation <span class="fields"><span class="punctuation">{</span>
  <span class="attr-name">setMessage</span><span class="argDefs"><span class="punctuation">(</span><span class="attr-name">message</span><span class="punctuation">:</span> <span class="type-name">String</span><span class="punctuation">)</span></span><span class="punctuation">:</span> <span class="type-name">String</span>
<span class="punctuation">}</span></span></span>

<span class="type-def"><span class="keyword">type</span> Query <span class="fields"><span class="punctuation">{</span>
  <span class="attr-name">getMessage</span><span class="punctuation">:</span> <span class="type-name">String</span>
<span class="punctuation">}</span></span></span></pre><p>将一个变更（mutation）映射到数据库的 create 或者 update 操作会很方便，如 <code>setMessage</code>，其会返回数据库所存的数据。这样一来，你修改了服务端的数据，客户端就能获知这个修改。</p><p>不论是变更还是查询，根级解析器都能够处理，因此实现 schema 的 root 可以如下：</p><pre class="prism language-javascript"><span class="keyword">var</span> fakeDatabase <span class="operator">=</span> <span class="punctuation">{</span><span class="punctuation">}</span><span class="punctuation">;</span>
<span class="keyword">var</span> root <span class="operator">=</span> <span class="punctuation">{</span>
  setMessage<span class="punctuation">:</span> <span class="keyword">function</span> <span class="punctuation">(</span><span class="punctuation">{</span>message<span class="punctuation">}</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    fakeDatabase<span class="punctuation">.</span>message <span class="operator">=</span> message<span class="punctuation">;</span>
    <span class="keyword">return</span> message<span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
  getMessage<span class="punctuation">:</span> <span class="keyword">function</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span class="keyword">return</span> fakeDatabase<span class="punctuation">.</span>message<span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span><span class="punctuation">;</span></pre><p>实现变更不需要更多的东西。但是更多情况下，你会发现有多个不同的变更接受相同的输入参数。常见的案例是在数据库中创建对象和更新对象的接口通常会接受一样的参数。你可以使用“输入类型”来简化 schema，使用 <code>input</code> 关键字而不是 <code>type</code> 关键字即可。</p><p>例如，我们每天有多条而不是一条消息，在数据库中以 <code>id</code> 字段为索引，每条消息都有一个 <code>content</code> 和 <code>author</code> 字符串。我们需要一个变更 API，用于创建新消息和更新旧消息。我们可以使用这个 schema：</p><pre class="prism language-graphql"><span class="type-def"><span class="keyword">input</span> MessageInput <span class="fields"><span class="punctuation">{</span>
  <span class="attr-name">content</span><span class="punctuation">:</span> <span class="type-name">String</span>
  <span class="attr-name">author</span><span class="punctuation">:</span> <span class="type-name">String</span>
<span class="punctuation">}</span></span></span>

<span class="type-def"><span class="keyword">type</span> Message <span class="fields"><span class="punctuation">{</span>
  <span class="attr-name">id</span><span class="punctuation">:</span> <span class="type-name">ID</span><span class="punctuation">!</span>
  <span class="attr-name">content</span><span class="punctuation">:</span> <span class="type-name">String</span>
  <span class="attr-name">author</span><span class="punctuation">:</span> <span class="type-name">String</span>
<span class="punctuation">}</span></span></span>

<span class="type-def"><span class="keyword">type</span> Query <span class="fields"><span class="punctuation">{</span>
  <span class="attr-name">getMessage</span><span class="argDefs"><span class="punctuation">(</span><span class="attr-name">id</span><span class="punctuation">:</span> <span class="type-name">ID</span><span class="operator">!</span><span class="punctuation">)</span></span><span class="punctuation">:</span> <span class="type-name">Message</span>
<span class="punctuation">}</span></span></span>

<span class="type-def"><span class="keyword">type</span> Mutation <span class="fields"><span class="punctuation">{</span>
  <span class="attr-name">createMessage</span><span class="argDefs"><span class="punctuation">(</span><span class="attr-name">input</span><span class="punctuation">:</span> <span class="type-name">MessageInput</span><span class="punctuation">)</span></span><span class="punctuation">:</span> <span class="type-name">Message</span>
  <span class="attr-name">updateMessage</span><span class="argDefs"><span class="punctuation">(</span><span class="attr-name">id</span><span class="punctuation">:</span> <span class="type-name">ID</span><span class="operator">!</span><span class="punctuation">,</span> <span class="attr-name">input</span><span class="punctuation">:</span> <span class="type-name">MessageInput</span><span class="punctuation">)</span></span><span class="punctuation">:</span> <span class="type-name">Message</span>
<span class="punctuation">}</span></span></span></pre><p>此处的变更返回一个 <code>Message</code> 类型，因此客户端通过变更的请求就能获取到新修改的 <code>Message</code> 的信息。</p><p>输入类型的字段不能是其他对象类型，只能是基础标量类型、列表类型或者其他输入类型。</p><p>一个有用的惯例是在 schema 的末尾使用 <code>Input</code> 命名输入类型，因为对于单一概念对象，通常你想要输入和输出类型之间只有略微不同。</p><p>下面的可运行代码实现了上述 schema，数据保存在内存中：</p><pre class="prism language-javascript"><span class="keyword">var</span> express <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;express&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> graphqlHTTP <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;express-graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="keyword">var</span> <span class="punctuation">{</span> buildSchema <span class="punctuation">}</span> <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>

<span spellcheck="true" class="comment">// 使用 GraphQL schema language 构建 schema</span>
<span class="keyword">var</span> schema <span class="operator">=</span> <span class="function">buildSchema</span><span class="punctuation">(</span><span class="template-string"><span class="string">`
  input MessageInput {
    content: String
    author: String
  }

  type Message {
    id: ID!
    content: String
    author: String
  }

  type Query {
    getMessage(id: ID!): Message
  }

  type Mutation {
    createMessage(input: MessageInput): Message
    updateMessage(id: ID!, input: MessageInput): Message
  }
`</span></span><span class="punctuation">)</span><span class="punctuation">;</span>

<span spellcheck="true" class="comment">// 如果 Message 拥有复杂字段，我们把它们放在这个对象里面。</span>
<span class="keyword">class</span> <span class="class-name">Message</span> <span class="punctuation">{</span>
  <span class="function">constructor</span><span class="punctuation">(</span>id<span class="punctuation">,</span> <span class="punctuation">{</span>content<span class="punctuation">,</span> author<span class="punctuation">}</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span class="keyword">this</span><span class="punctuation">.</span>id <span class="operator">=</span> id<span class="punctuation">;</span>
    <span class="keyword">this</span><span class="punctuation">.</span>content <span class="operator">=</span> content<span class="punctuation">;</span>
    <span class="keyword">this</span><span class="punctuation">.</span>author <span class="operator">=</span> author<span class="punctuation">;</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span>

<span spellcheck="true" class="comment">// 映射 username 到 content</span>
<span class="keyword">var</span> fakeDatabase <span class="operator">=</span> <span class="punctuation">{</span><span class="punctuation">}</span><span class="punctuation">;</span>

<span class="keyword">var</span> root <span class="operator">=</span> <span class="punctuation">{</span>
  getMessage<span class="punctuation">:</span> <span class="keyword">function</span> <span class="punctuation">(</span><span class="punctuation">{</span>id<span class="punctuation">}</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span class="keyword">if</span> <span class="punctuation">(</span><span class="operator">!</span>fakeDatabase<span class="punctuation">[</span>id<span class="punctuation">]</span><span class="punctuation">)</span> <span class="punctuation">{</span>
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="class-name">Error</span><span class="punctuation">(</span><span class="string">&#x27;no message exists with id &#x27;</span> <span class="operator">+</span> id<span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="punctuation">}</span>
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="class-name">Message</span><span class="punctuation">(</span>id<span class="punctuation">,</span> fakeDatabase<span class="punctuation">[</span>id<span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
  createMessage<span class="punctuation">:</span> <span class="keyword">function</span> <span class="punctuation">(</span><span class="punctuation">{</span>input<span class="punctuation">}</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span spellcheck="true" class="comment">// Create a random id for our &quot;database&quot;.</span>
    <span class="keyword">var</span> id <span class="operator">=</span> <span class="function">require</span><span class="punctuation">(</span><span class="string">&#x27;crypto&#x27;</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function">randomBytes</span><span class="punctuation">(</span><span class="number">10</span><span class="punctuation">)</span><span class="punctuation">.</span><span class="function">toString</span><span class="punctuation">(</span><span class="string">&#x27;hex&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>

    fakeDatabase<span class="punctuation">[</span>id<span class="punctuation">]</span> <span class="operator">=</span> input<span class="punctuation">;</span>
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="class-name">Message</span><span class="punctuation">(</span>id<span class="punctuation">,</span> input<span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
  updateMessage<span class="punctuation">:</span> <span class="keyword">function</span> <span class="punctuation">(</span><span class="punctuation">{</span>id<span class="punctuation">,</span> input<span class="punctuation">}</span><span class="punctuation">)</span> <span class="punctuation">{</span>
    <span class="keyword">if</span> <span class="punctuation">(</span><span class="operator">!</span>fakeDatabase<span class="punctuation">[</span>id<span class="punctuation">]</span><span class="punctuation">)</span> <span class="punctuation">{</span>
      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="class-name">Error</span><span class="punctuation">(</span><span class="string">&#x27;no message exists with id &#x27;</span> <span class="operator">+</span> id<span class="punctuation">)</span><span class="punctuation">;</span>
    <span class="punctuation">}</span>
    <span spellcheck="true" class="comment">// This replaces all old data, but some apps might want partial update.</span>
    fakeDatabase<span class="punctuation">[</span>id<span class="punctuation">]</span> <span class="operator">=</span> input<span class="punctuation">;</span>
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="class-name">Message</span><span class="punctuation">(</span>id<span class="punctuation">,</span> input<span class="punctuation">)</span><span class="punctuation">;</span>
  <span class="punctuation">}</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">;</span>

<span class="keyword">var</span> app <span class="operator">=</span> <span class="function">express</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
app<span class="punctuation">.</span><span class="function">use</span><span class="punctuation">(</span><span class="string">&#x27;/graphql&#x27;</span><span class="punctuation">,</span> <span class="function">graphqlHTTP</span><span class="punctuation">(</span><span class="punctuation">{</span>
  schema<span class="punctuation">:</span> schema<span class="punctuation">,</span>
  rootValue<span class="punctuation">:</span> root<span class="punctuation">,</span>
  graphiql<span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span>
app<span class="punctuation">.</span><span class="function">listen</span><span class="punctuation">(</span><span class="number">4000</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> <span class="punctuation">{</span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="string">&#x27;Running a GraphQL API server at localhost:4000/graphql&#x27;</span><span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">;</span></pre><p>你必须在你的 GraphQL 查询前面使用关键字 <code>mutation</code> 才能调用变更，并将数据作为 JSON 对象以传入输入类型。如果用上面定义的服务器，你可以使用以下操作创建一条消息并返回这条消息的 <code>id</code>：</p><pre class="prism language-graphql"><span class="keyword">mutation</span> <span class="punctuation">{</span>
  createMessage<span class="punctuation">(</span><span class="type-def"><span class="keyword">input</span><span class="punctuation">:</span> <span class="fields"><span class="punctuation">{</span>
    <span class="attr-name">author</span><span class="punctuation">:</span> &quot;andy&quot;<span class="punctuation">,</span>
    <span class="attr-name">content</span><span class="punctuation">:</span> &quot;hope is a good thing&quot;<span class="punctuation">,</span>
  <span class="punctuation">}</span></span></span><span class="punctuation">)</span> <span class="punctuation">{</span>
    id
  <span class="punctuation">}</span>
<span class="punctuation">}</span></pre><p>你也可以像查询一样使用变量来简化变更的客户端逻辑。如下调用服务端变更的 JavaScript 代码：</p><pre class="prism language-javascript"><span class="keyword">var</span> author <span class="operator">=</span> <span class="string">&#x27;andy&#x27;</span><span class="punctuation">;</span>
<span class="keyword">var</span> content <span class="operator">=</span> <span class="string">&#x27;hope is a good thing&#x27;</span><span class="punctuation">;</span>
<span class="keyword">var</span> xhr <span class="operator">=</span> <span class="keyword">new</span> <span class="class-name">XMLHttpRequest</span><span class="punctuation">(</span><span class="punctuation">)</span><span class="punctuation">;</span>
xhr<span class="punctuation">.</span>responseType <span class="operator">=</span> <span class="string">&#x27;json&#x27;</span><span class="punctuation">;</span>
xhr<span class="punctuation">.</span><span class="function">open</span><span class="punctuation">(</span><span class="string">&quot;POST&quot;</span><span class="punctuation">,</span> <span class="string">&quot;/graphql&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
xhr<span class="punctuation">.</span><span class="function">setRequestHeader</span><span class="punctuation">(</span><span class="string">&quot;Content-Type&quot;</span><span class="punctuation">,</span> <span class="string">&quot;application/json&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
xhr<span class="punctuation">.</span><span class="function">setRequestHeader</span><span class="punctuation">(</span><span class="string">&quot;Accept&quot;</span><span class="punctuation">,</span> <span class="string">&quot;application/json&quot;</span><span class="punctuation">)</span><span class="punctuation">;</span>
xhr<span class="punctuation">.</span>onload <span class="operator">=</span> <span class="keyword">function</span> <span class="punctuation">(</span><span class="punctuation">)</span> <span class="punctuation">{</span>
  console<span class="punctuation">.</span><span class="function">log</span><span class="punctuation">(</span><span class="string">&#x27;data returned:&#x27;</span><span class="punctuation">,</span> xhr<span class="punctuation">.</span>response<span class="punctuation">)</span><span class="punctuation">;</span>
<span class="punctuation">}</span>
<span class="keyword">var</span> query <span class="operator">=</span> <span class="template-string"><span class="string">`mutation CreateMessage($input: MessageInput) {
  createMessage(input: $input) {
    id
  }
}`</span></span><span class="punctuation">;</span>
xhr<span class="punctuation">.</span><span class="function">send</span><span class="punctuation">(</span>JSON<span class="punctuation">.</span><span class="function">stringify</span><span class="punctuation">(</span><span class="punctuation">{</span>
  query<span class="punctuation">:</span> query<span class="punctuation">,</span>
  variables<span class="punctuation">:</span> <span class="punctuation">{</span>
    input<span class="punctuation">:</span> <span class="punctuation">{</span>
      author<span class="punctuation">:</span> author<span class="punctuation">,</span>
      content<span class="punctuation">:</span> content<span class="punctuation">,</span>
    <span class="punctuation">}</span>
  <span class="punctuation">}</span>
<span class="punctuation">}</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">;</span></pre><p>一个十分特殊的变更类型是“改变用户”，譬如注册新用户。除了使用 GraphQL 变更来实现这个功能之外，在学完 <a href="/graphql-js/authentication-and-express-middleware/">GraphQL 认证和 Express 中间件</a> 之后你还能使用现有库来实现。</p></div><a class="read-next" href="/graphql-js/authentication-and-express-middleware"><span class="read-next-continue">继续阅读 →</span><span class="read-next-title">认证和 Express 中间件</span></a></div><div class="nav-docs"><div><h3>GraphQL.js 教程</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql-js/">入门</a></li><li><a style="margin-left:0;" class="active" href="/graphql-js/running-an-express-graphql-server/">Express + GraphQL</a></li><li><a style="margin-left:0;" class="active" href="/graphql-js/graphql-clients/">GraphQL 客户端</a></li><li><a style="margin-left:0;" class="active" href="/graphql-js/basic-types/">基本类型</a></li><li><a style="margin-left:0;" class="active" href="/graphql-js/passing-arguments/">传递参数</a></li><li><a style="margin-left:0;" class="active" href="/graphql-js/object-types/">对象类型</a></li><li><a style="margin-left:0;" class="active" href="/graphql-js/mutations-and-input-types/">变更和输入类型</a></li><li><a style="margin-left:0;" class="active" href="/graphql-js/authentication-and-express-middleware/">认证 &amp; 中间件</a></li></ul></div><div><h3>高级指南</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql-js/constructing-types/">构建类型</a></li></ul></div><div><h3>API 参考</h3><ul><li><a style="margin-left:0;" class="active" href="/graphql-js/express-graphql/">express-graphql</a><ul><li><a href="/graphql-js/express-graphql/#graphqlhttp">graphqlHTTP</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql-js/graphql/">graphql</a><ul><li><a href="/graphql-js/graphql/#graphql">graphql</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql-js/error/">graphql/error</a><ul><li><a href="/graphql-js/error/#formaterror">formatError</a></li><li><a href="/graphql-js/error/#graphqlerror">GraphQLError</a></li><li><a href="/graphql-js/error/#locatederror">locatedError</a></li><li><a href="/graphql-js/error/#syntaxerror">syntaxError</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql-js/execution/">graphql/execution</a><ul><li><a href="/graphql-js/execution/#execute">execute</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql-js/language/">graphql/language</a><ul><li><a href="/graphql-js/language/#break">BREAK</a></li><li><a href="/graphql-js/language/#getlocation">getLocation</a></li><li><a href="/graphql-js/language/#kind">Kind</a></li><li><a href="/graphql-js/language/#lex">lex</a></li><li><a href="/graphql-js/language/#parse">parse</a></li><li><a href="/graphql-js/language/#parsevalue">parseValue</a></li><li><a href="/graphql-js/language/#printsource">printSource</a></li><li><a href="/graphql-js/language/#visit">visit</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql-js/type/">graphql/type</a><ul><li><a href="/graphql-js/type/#getnamedtype">getNamedType</a></li><li><a href="/graphql-js/type/#getnullabletype">getNullableType</a></li><li><a href="/graphql-js/type/#graphqlboolean">GraphQLBoolean</a></li><li><a href="/graphql-js/type/#graphqlenumtype">GraphQLEnumType</a></li><li><a href="/graphql-js/type/#graphqlfloat">GraphQLFloat</a></li><li><a href="/graphql-js/type/#graphqlid">GraphQLID</a></li><li><a href="/graphql-js/type/#graphqlinputobjecttype">GraphQLInputObjectType</a></li><li><a href="/graphql-js/type/#graphqlint">GraphQLInt</a></li><li><a href="/graphql-js/type/#graphqlinterfacetype">GraphQLInterfaceType</a></li><li><a href="/graphql-js/type/#graphqllist">GraphQLList</a></li><li><a href="/graphql-js/type/#graphqlnonnull">GraphQLNonNull</a></li><li><a href="/graphql-js/type/#graphqlobjecttype">GraphQLObjectType</a></li><li><a href="/graphql-js/type/#graphqlscalartype">GraphQLScalarType</a></li><li><a href="/graphql-js/type/#graphqlschema">GraphQLSchema</a></li><li><a href="/graphql-js/type/#graphqlstring">GraphQLString</a></li><li><a href="/graphql-js/type/#graphqluniontype">GraphQLUnionType</a></li><li><a href="/graphql-js/type/#isabstracttype">isAbstractType</a></li><li><a href="/graphql-js/type/#iscompositetype">isCompositeType</a></li><li><a href="/graphql-js/type/#isinputtype">isInputType</a></li><li><a href="/graphql-js/type/#isleaftype">isLeafType</a></li><li><a href="/graphql-js/type/#isoutputtype">isOutputType</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql-js/utilities/">graphql/utilities</a><ul><li><a href="/graphql-js/utilities/#astfromvalue">astFromValue</a></li><li><a href="/graphql-js/utilities/#buildastschema">buildASTSchema</a></li><li><a href="/graphql-js/utilities/#buildclientschema">buildClientSchema</a></li><li><a href="/graphql-js/utilities/#buildschema">buildSchema</a></li><li><a href="/graphql-js/utilities/#introspectionquery">introspectionQuery</a></li><li><a href="/graphql-js/utilities/#isvalidjsvalue">isValidJSValue</a></li><li><a href="/graphql-js/utilities/#isvalidliteralvalue">isValidLiteralValue</a></li><li><a href="/graphql-js/utilities/#printintrospectionschema">printIntrospectionSchema</a></li><li><a href="/graphql-js/utilities/#printschema">printSchema</a></li><li><a href="/graphql-js/utilities/#typefromast">typeFromAST</a></li><li><a href="/graphql-js/utilities/#typeinfo">TypeInfo</a></li></ul></li><li><a style="margin-left:0;" class="active" href="/graphql-js/validation/">graphql/validation</a><ul><li><a href="/graphql-js/validation/#specifiedrules">specifiedRules</a></li><li><a href="/graphql-js/validation/#validate">validate</a></li></ul></li></ul></div></div></div></section><footer><section class="sitemap"><a href="/" class="nav-home"></a><div><h5><a href="/learn/">学习</a></h5><a href="/learn/">入门</a><a href="/learn/queries/">查询语言</a><a href="/learn/schema/">类型系统</a><a href="/learn/execution/">执行</a><a href="/learn/best-practices/">最佳实践</a></div><div><h5><a href="/code">代码</a></h5><a href="/code/#server-libraries">服务端</a><a href="/code/#graphql-clients">客户端</a><a href="/code/#tools">工具</a></div><div><h5><a href="/community">社区</a></h5><a href="/community/upcoming-events/">即将到来的活动</a><a href="http://stackoverflow.com/questions/tagged/graphql" target="_blank" rel="noopener noreferrer">Stack Overflow</a><a href="https://www.facebook.com/groups/graphql.community/" target="_blank" rel="noopener noreferrer">Facebook Group</a><a href="https://twitter.com/GraphQL" target="_blank" rel="noopener noreferrer">Twitter</a></div><div><h5>更多</h5><a href="/blog">GraphQL 团队博客</a><a href="http://spec.graphql.cn/" target="_blank" rel="noopener noreferrer">阅读规范</a><a href="https://github.com/graphql" target="_blank" rel="noopener noreferrer">GitHub</a><a href="https://github.com/xitu/graphql.github.io/edit/zh-Hans/site/graphql-js/Tutorial-Mutations.md" target="_blank" rel="noopener noreferrer">编辑本页 ✎</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noopener noreferrer" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright ©<span><script>document.write(new Date().getFullYear())</script> </span><noscript>2017 </noscript>Facebook Inc. The contents of this page are licensed BSD-3-Clause.</section></footer><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
        docsearch({
          apiKey: 'd103541f3e6041148aade2e746ed4d61',
          indexName: 'graphql',
          inputSelector: '#algolia-search-input'
        });
      </script><script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-44373548-16', 'auto');
ga('send', 'pageview');
      </script></body></html>